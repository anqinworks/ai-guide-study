<!-- pages/user/user.wxml -->
<view class="container">
  <!-- 登录表单 -->
  <view class="login-section" wx:if="{{!isLoggedIn}}">
    <text class="login-title">登录</text>
    
    <!-- 微信授权登录按钮 -->
    <button class="wx-login-btn" bindtap="wxLogin" disabled="{{loginBtnDisabled}}">
      <text class="wx-login-icon">📱</text>
      <text class="wx-login-text">{{loginBtnDisabled ? '登录中...' : '微信授权登录'}}</text>
    </button>
  </view>
  
  <!-- 用户信息 -->
  <view class="user-info-section" wx:if="{{isLoggedIn}}">
    <image src="{{userInfo.avatar || 'https://picsum.photos/200/200'}}" class="avatar"></image>
    <text class="nickname">{{userInfo.nickname || '用户'}}</text>
    <text class="user-id">ID: {{userInfo.id || ''}}</text>
  </view>
  
  <!-- 功能菜单 -->
  <view class="menu-section" wx:if="{{isLoggedIn}}">
    <view class="menu-item" bindtap="goToHistory">
      <text class="menu-icon">📚</text>
      <text class="menu-text">学习历史</text>
      <text class="menu-arrow">></text>
    </view>
    
    <view class="menu-item" bindtap="goToStatistics">
      <text class="menu-icon">📊</text>
      <text class="menu-text">学习统计</text>
      <text class="menu-arrow">></text>
    </view>
    
    <view class="menu-item" bindtap="goToSettings">
      <text class="menu-icon">⚙️</text>
      <text class="menu-text">设置</text>
      <text class="menu-arrow">></text>
    </view>
    
    <view class="menu-item" bindtap="logout">
      <text class="menu-icon">🚪</text>
      <text class="menu-text">退出登录</text>
      <text class="menu-arrow">></text>
    </view>
  </view>
</view>