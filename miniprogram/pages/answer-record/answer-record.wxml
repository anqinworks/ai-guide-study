<!-- pages/answer-record/answer-record.wxml -->
<view class="container">
  <view class="header">
    <text class="title">ç­”é¢˜è®°å½•</text>
  </view>

  <!-- åŠ è½½ä¸­çŠ¶æ€ -->
  <view wx:if="{{loading && answerRecords.length === 0}}" class="loading-container">
    <view class="loading-spinner"></view>
    <text class="loading-text">åŠ è½½ä¸­...</text>
  </view>

  <!-- ç­”é¢˜è®°å½•åˆ—è¡¨ -->
  <view class="record-list" wx:elif="{{answerRecords.length > 0}}">
    <view wx:for="{{answerRecords}}" wx:key="id" class="record-item" bindtap="toggleRecord" data-id="{{item.id}}">
      <view class="record-header">
        <view class="record-info">
          <text class="record-time">{{item.answerTime}}</text>
          <text class="record-topic">{{item.topic}}</text>
        </view>
        <view class="record-stats">
          <text class="stats-text">å…±{{item.totalQuestions}}é¢˜</text>
          <text class="stats-text accuracy">{{item.accuracy}}</text>
        </view>
      </view>
      
      <!-- å®æ—¶ç»Ÿè®¡ä¿¡æ¯ -->
      <view class="real-time-stats">
        <view class="stat-item">
          <text class="stat-label">ç­”å¯¹</text>
          <text class="stat-value correct" animation="{{item.correctAnimation}}">{{item.correctCount}}é¢˜</text>
        </view>
        <view class="stat-item">
          <text class="stat-label">ç­”é”™</text>
          <text class="stat-value wrong" animation="{{item.wrongAnimation}}">{{item.wrongCount}}é¢˜</text>
        </view>
      </view>
      
      <!-- å±•å¼€å†…å®¹ -->
      <view class="record-content" wx:if="{{item.expanded}}">
        <view class="expanded-info">
          <view class="info-item">
            <text class="label">ç­”é¢˜è¯¦æƒ…</text>
          </view>
        </view>
      </view>
      
      <!-- æŸ¥çœ‹è¯¦æƒ…æŒ‰é’® -->
      <view class="detail-btn" catchtap="viewDetail" data-id="{{item.id}}">
        <text>æŸ¥çœ‹è¯¦æƒ…</text>
        <text class="arrow">â†’</text>
      </view>
    </view>
    
    <!-- åŠ è½½æ›´å¤š -->
    <view class="load-more">
      <text wx:if="{{loading}}" class="loading-text">åŠ è½½ä¸­...</text>
      <text wx:elif="{{hasMore}}" class="load-text" bindtap="loadMore">åŠ è½½æ›´å¤š</text>
      <text wx:else class="no-more-text">å·²åŠ è½½å…¨éƒ¨</text>
    </view>
  </view>
  
  <!-- æ— è®°å½•æç¤º -->
  <view wx:else class="empty-state">
    <view class="empty-icon">ğŸ“</view>
    <text class="empty-text">æš‚æ— ç­”é¢˜è®°å½•ï¼Œå¿«å»ç­”é¢˜å§~</text>
    <button class="go-answer-btn" bindtap="goToHome">å¼€å§‹ç­”é¢˜</button>
  </view>
</view>