<!-- pages/answer/answer.wxml -->
<view class="container">
  <!-- è¿›åº¦åŒºåŸŸ -->
  <view class="progress-section">
    <text class="progress-text">ç¬¬ {{currentIndex + 1}} é¢˜ / å…± {{totalCount}} é¢˜</text>
    <view class="progress">
      <view class="progress-bar" style="width: {{(currentIndex + 1) / totalCount * 100}}%"></view>
    </view>
  </view>
  
  <!-- é¢˜ç›®å¡ç‰‡ -->
  <view class="question-card">
    <view class="question-header">
      <view class="question-badge">
        <text class="question-number">Q{{currentIndex + 1}}</text>
      </view>
      <text class="question-label">é¢˜ç›®</text>
    </view>
    <view class="question-content">
      <scroll-view class="question-scroll" scroll-y="true" enable-flex="true">
        <rich-text class="question-text" nodes="{{questionHtml}}"></rich-text>
      </scroll-view>
    </view>
    
    <!-- é€‰é¡¹åŒºåŸŸ -->
    <view class="options-section">
      <view class="options-header">
        <text class="options-icon">ğŸ“‹</text>
        <text class="options-label">è¯·é€‰æ‹©ç­”æ¡ˆ</text>
      </view>
      <view class="options">
        <view class="option {{selectedAnswer === option ? 'selected' : ''}}" 
              wx:for="{{currentCard.options}}" 
              wx:for-item="option"
              wx:for-index="optIndex"
              wx:key="index"
              bindtap="selectOption"
              data-option="{{option}}"
              hover-class="option-hover">
          <view class="option-marker">
            <text class="option-letter">{{String.fromCharCode(65 + optIndex)}}</text>
          </view>
          <view class="option-content">
            <scroll-view class="option-scroll" scroll-y="true" enable-flex="true">
              <rich-text class="option-text" nodes="{{optionsHtml[optIndex]}}"></rich-text>
            </scroll-view>
          </view>
          <view class="option-check" wx:if="{{selectedAnswer === option}}">
            <text class="check-icon">âœ“</text>
          </view>
        </view>
      </view>
    </view>
  </view>
  
  <!-- æŒ‰é’®åŒºåŸŸ -->
  <view class="button-group">
    <button class="btn submit-btn" bindtap="submitAnswer" disabled="{{!selectedAnswer}}">
      <text class="btn-icon">âœ“</text>
      <text class="btn-text">{{selectedAnswer ? 'æäº¤ç­”æ¡ˆ' : 'è¯·å…ˆé€‰æ‹©ç­”æ¡ˆ'}}</text>
    </button>
  </view>
</view>